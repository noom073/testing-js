<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div style="text-align: center;">
        <img id="img-a" src="" width="350" height="200" alt="" style="margin-top: 5em;">
        <h1 id="el1" style="color:crimson; font-size: 3em;"></h1>

    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            let arr = new Array('Allison',
                'Arthur',
                'Ana',
                'Alex',
                'Arlene',
                'Alberto',
                'Barry',
                'Bertha',
                'Bill',
                'Bonnie',
                'Bret',
                'Beryl',
                'Chantal',
                'Cristobal',
                'Claudette',
                'Charley',
                'Cindy',
                'Chris',
                'Dean',
                'Dolly',
                'Danny',
                'Danielle',
                'Dennis',
                'Debby',
                'Erin',
                'Edouard',
                'Erika',
                'Earl',
                'Emily',
                'Ernesto',
                'Felix',
                'Fay',
                'Fabian',
                'Frances',
                'Franklin',
                'Florence',
                'Gabielle',
                'Gustav',
                'Grace',
                'Gaston',
                'Gert',
                'Gordon',
                'Humberto',
                'Hanna',
                'Henri',
                'Hermine',
                'Harvey',
                'Helene',
                'Iris',
                'Isidore',
                'Isabel',
                'Ivan',
                'Irene',
                'Isaac',
                'Jerry',
                'Josephine',
                'Juan',
                'Jeanne',
                'Jose',
                'Joyce',
                'Karen',
                'Kyle',
                'Kate',
                'Karl',
                'Katrina',
                'Kirk',
                'Lorenzo',
                'Lili',
                'Larry',
                'Lisa',
                'Lee',
                'Leslie',
                'Michelle',
                'Marco',
                'Mindy',
                'Maria',
                'Michael',
                'Noel',
                'Nana',
                'Nicholas',
                'Nicole',
                'Nate',
                'Nadine',
                'Olga',
                'Omar',
                'Odette',
                'Otto',
                'Ophelia',
                'Oscar',
                'Pablo',
                'Paloma',
                'Peter',
                'Paula',
                'Philippe',
                'Patty',
                'Rebekah',
                'Rene',
                'Rose',
                'Richard',
                'Rita',
                'Rafael',
                'Sebastien',
                'Sally',
                'Sam',
                'Shary',
                'Stan',
                'Sandy',
                'Tanya',
                'Teddy',
                'Teresa',
                'Tomas',
                'Tammy',
                'Tony',
                'Van',
                'Vicky',
                'Victor',
                'Virginie',
                'Vince',
                'Valerie',
                'Wendy',
                'Wilfred',
                'Wanda',
                'Walter',
                'Wilma',
                'William',
                'Kumiko',
                'Aki',
                'Miharu',
                'Chiaki',
                'Michiyo',
                'Itoe',
                'Nanaho',
                'Reina',
                'Emi',
                'Yumi',
                'Ayumi',
                'Kaori',
                'Sayuri',
                'Rie',
                'Miyuki',
                'Hitomi',
                'Naoko',
                'Miwa',
                'Etsuko',
                'Akane',
                'Kazuko',
                'Miyako',
                'Youko',
                'Sachiko',
                'Mieko',
                'Toshie',
                'Junko');
            // let arr2 = arr.reverse();
            let div = document.getElementById("el1");
            let img = document.getElementById("img-a");
            // let setImage = (src) => { // USER IMAGE
            //     return new Promise((res, rej) => {
            //         img.src = src;
            //         img.onload = () => res(src);
            //         img.onerror = () => rej(new Error(`Have problem: ${src}`));
            //     });
            // };
            let elementFetch = (array, ms) => {
                return new Promise((res, rej) => {
                    setTimeout(async () => {
                        console.log(array);
                        let src = `https://fakeimg.pl/350x200/?text=${array}`;
                        // let setMyImage = setImage(src); // USER IMAGE
                        // setMyImage.then(
                        //     src => {
                        //         div.innerText = array;
                        //         console.log('img complete', src);
                        //         res();
                        //     },
                        //     error => console.error(error)
                        // );
                        div.innerText = array;
                        res();
                    }, ms);
                });
            };
            let fet = async (array, index, ms) => {
                await elementFetch(array[index], ms);
                index++;
                if (index < array.length) {
                    return fet(array, index, ms);
                }
            };
            arr = new Array(1, 2, 3, 4, 5);
            let run = async () => {
                fet(arr, 0, 100).then(res => {
                    return fet(arr, 0, 250);
                }).then(res => {
                    return fet(arr, 0, 500);
                }).then(res => {
                    return fet(arr, 0, 1000);
                });
                // LIVE ABOVE
                // await fet(arr, 0, 50);
                // arr.reverse();
                // await fet(arr, 0, 100);
                // arr.reverse();
                // await fet(arr, 0, 150);
                // arr.reverse();
                // await fet(arr, 0, 200);
            };
            run();
        });

    </script>
</body>

</html>